@startuml
hide empty members

' Remove the following lines when VLBI, PSS and PST
' are added to CDM
hide VLBIConfiguration
hide PSTConfiguration
hide PSSConfiguration

package ska.cdm.messages.subarray_node.configure {
	package csp.py <<Rectangle>> {

	    class Subarray {
	        subarray_name: str
	    }

	    class Common {
	        id: str
            subarray_id: int
            frequency_band: core.ReceiverBand
	    }

	    class CBFConfiguration {

	    }

	    class PSTConfiguration {

	    }

        class PSSConfiguration {

        }

        class VLBIConfiguration {

        }

		enum FSPFunctionMode {
			CORR
			PSS-BF
			PST-BF
			VLBI
		}

		class FSPConfiguration {
			fsp_id : int
			function_mode : FSPFunctionMode
			frequency_slice_id : int
			integration_time : int
			corr_bandwidth : int
			channel_average_map : List[Tuple]
			output_link_map : List[Tuple]
			zoom_window_tuning: int
		}

		class CSPConfiguration {
            csp_id : str
			frequency_band : core.ReceiverBand
		}
		CBFConfiguration *-- "*" FSPConfiguration
		CBFConfiguration *-- "1" VLBIConfiguration
		CSPConfiguration *-- "1" Common
		CSPConfiguration *-- "1" Subarray
		CSPConfiguration *-- "1" CBFConfiguration
		CSPConfiguration *-- "1" PSTConfiguration
		CSPConfiguration *-- "1" PSSConfiguration

	}
}


@enduml
